(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[648],{8626:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/inbox",function(){return a(5410)}])},8384:function(e,n){"use strict";n.Z={src:"/_next/static/media/cash-in-hand-icon.fae111d9.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA80lEQVR42mM4f7uVkQEK/l9NUPl/KVIWxH5+IoqZARn8PWwe+uuQxYdfh+2u/j+krwqXSHm53jPkypQ7jYfL/zedbv7ffKj0f9SBimdSV2deKXi51psh8+W6ON/LU/+73ZzzO/7lun9ql6b8cdtb9n/GpZ7/Ps/XxTFkvVyX5Hll6n/Vy9N++zxa/p/h/JT/6/am/Lx1Ku8/w6P1yQweH3eo55/rmbtkW8L/dQcy/2zbn/z7816L/2ePZaxieHtIBe6WfwdNHvzdr/f/9171/192656HSxy7UM0Cot/utzN8v8cs8c12/fg3mxTAXt19pooFAHU3fMnTbZHjAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},7194:function(e,n,a){"use strict";var i=a(5893),s=a(1163),o=a(7294),t=a(4053),l=a(9258),r=a(8139),c=a(9970),d=a.n(c);n.Z=function(){let e=(0,s.useRouter)(),n=(0,t.useUser)(),a=(0,t.useSupabaseClient)();async function c(){console.log("fetching data...");let{data:i,error:s}=await a.from("profiles").select("account_type").eq("id",n.id).maybeSingle();s&&console.log(s),i.account_type?(localStorage.setItem("user",JSON.stringify(n)),e.push("/")):e.push("/sign-up")}return((0,o.useEffect)(()=>{n&&c()},[n]),n)?(0,i.jsx)("div",{className:"m-6"}):(0,i.jsx)("div",{className:d().loginContainer,children:(0,i.jsx)("div",{className:d().loginPanel,children:(0,i.jsx)(l.gx,{supabaseClient:a,providers:[],appearance:{theme:r.rD,variables:{default:{colors:{brand:"#404040",brandAccent:"#52525b"}}}},theme:"dark"})})})}},1234:function(e,n,a){"use strict";a.d(n,{Z:function(){return C}});var i=a(5893);a(7266);var s=a(8384),o={src:"/_next/static/media/profile-circle.7af56194.svg",height:800,width:800,blurWidth:0,blurHeight:0},t=a(325),l=a(5316),r=a(5005),c=a(9603),d=a(9417),u=a(1664),_=a.n(u),x=a(5675),m=a.n(x),b=a(7294),g=a(2556),h=a.n(g),p=a(4053),v=function(e){(0,p.useUser)();let n=(0,p.useSupabaseClient)(),[a,o]=(0,b.useState)(!1),t=e.showSideNav?h().navContainer:h().navContainerHidden,l=e.userInfo;return null!==l?(0,i.jsxs)("div",{className:t,children:[(0,i.jsx)("div",{className:h().navUpper,children:(0,i.jsx)("div",{className:h().navHeading,children:(0,i.jsxs)("div",{className:h().navBrand,children:[(0,i.jsx)(m(),{src:s.Z,alt:"Logo"}),(0,i.jsx)("h1",{children:l.first_name})]})})}),(0,i.jsx)("div",{className:h().listContainer,children:(0,i.jsxs)("div",{className:h().sideNavList,children:[(0,i.jsx)(_(),{className:h().topLink,href:"/",children:"Home"}),(0,i.jsx)(_(),{href:"/inbox",children:" Inbox "}),(0,i.jsx)(_(),{href:"/dashboard",children:" Dashboard "}),(0,i.jsxs)("a",{id:"settings",href:"#settings",children:["Settings\xa0\xa0",(0,i.jsx)(c.G,{id:"cog-icon",className:h().cogIcon,icon:d.b7W,size:"lg"})]}),(0,i.jsx)(_(),{href:"/",onClick:()=>{n.auth.signOut(),localStorage.removeItem("user")},children:"Log out"})]})})]}):(0,i.jsxs)("div",{className:t,children:[(0,i.jsx)("div",{className:h().navUpper,children:(0,i.jsx)("div",{className:h().navHeading,children:(0,i.jsxs)("div",{className:h().navBrand,children:[(0,i.jsx)(m(),{src:s.Z,alt:"Logo"}),(0,i.jsx)("h1",{children:"Profile"})]})})}),(0,i.jsx)("div",{className:h().listContainer,children:(0,i.jsxs)("div",{className:h().sideNavList,children:[(0,i.jsx)(_(),{href:"/login",children:"Login"}),(0,i.jsx)(_(),{className:h().topLink,href:"/",children:"Home"}),(0,i.jsx)(_(),{href:"/",children:" Inbox "}),(0,i.jsx)(_(),{href:"/dashboard",children:" Dashboard "}),(0,i.jsxs)("a",{id:"settings",href:"#settings",children:["Settings\xa0\xa0",(0,i.jsx)(c.G,{id:"cog-icon",className:h().cogIcon,icon:d.b7W,size:"lg"})]})]})})]})},j=a(7672),f=a.n(j),N=a(1163);function C(e){let{pageTitle:n}=e,a=(0,p.useSupabaseClient)(),c=(0,p.useUser)(),[d,u]=(0,b.useState)(!1),[x,g]=(0,b.useState)(!1),[h,j]=(0,b.useState)(null),C=(0,N.useRouter)();async function S(){let{data:e,error:n}=await a.from("profiles").select("*").filter("id","eq",c.id).single();n&&console.log(n),j(e)}return((0,b.useEffect)(()=>{let e=()=>{g(window.innerWidth<960)};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),(0,b.useEffect)(()=>{null===h&&c&&(console.log(c),S())},[c]),(0,b.useEffect)(()=>{if(null!==c&&null!=h)console.log("User Info :"),console.log(h),document.getElementById("username").innerText=h.username},[h]),c)?(0,i.jsxs)("div",{className:"Navbar",children:[(0,i.jsxs)(l.Z,{className:f().navContainer,bg:"mainColor",variant:"dark",expand:"md",fixed:"top",children:[(0,i.jsxs)("div",{className:f().logo,onClick:()=>{C.push("/")},children:[(0,i.jsx)(m(),{src:s.Z,alt:"logo"}),(0,i.jsxs)("h3",{children:[" ",x?"MF":"ModernFunding"," "]})]}),(0,i.jsx)(l.Z.Toggle,{id:"mobile-collapse-btn","aria-controls":"basic-navbar-nav"}),(0,i.jsx)(l.Z.Collapse,{className:f().middleNav,id:"basic-navbar-nav",children:(0,i.jsx)(t.Z,{className:"m-auto",children:(0,i.jsx)("h1",{id:"page-title",className:f().pageTitle,children:n})})}),(0,i.jsxs)("div",{className:f().containerLeft,children:[(0,i.jsx)("div",{className:f().username,children:(0,i.jsx)("h2",{id:"username"})}),(0,i.jsx)("div",{className:f().loginButton,onClick:()=>void u(!d),children:(0,i.jsx)(m(),{src:o,alt:"logo"})})]})]}),(0,i.jsx)(v,{showSideNav:d,userInfo:h})]}):(0,i.jsxs)("div",{className:"Navbar",children:[(0,i.jsxs)(l.Z,{className:f().navContainer,bg:"mainColor",variant:"dark",expand:"md",fixed:"top",children:[(0,i.jsxs)("div",{className:f().logo,onClick:()=>{C.push("/")},children:[(0,i.jsx)(m(),{src:s.Z,alt:"logo"}),(0,i.jsxs)("h3",{children:[" ",x?"MF":"ModernFunding"," "]})]}),(0,i.jsx)(l.Z.Toggle,{id:"mobile-collapse-btn","aria-controls":"basic-navbar-nav"}),(0,i.jsx)(l.Z.Collapse,{className:f().middleNav,id:"basic-navbar-nav",children:(0,i.jsxs)(t.Z,{className:"m-auto",children:[(0,i.jsx)("h1",{id:"page-title",className:f().pageTitle,children:n}),(0,i.jsx)(_(),{href:"/login",children:(0,i.jsx)(r.Z,{className:f().signUpBtn,id:"sign-up-btn",children:"Sign In/Up"})})]})}),(0,i.jsx)("div",{className:f().containerLeft,children:(0,i.jsx)("div",{className:f().loginButton,onClick:()=>void u(!d),children:(0,i.jsx)(m(),{src:o,alt:"logo"})})})]}),(0,i.jsx)(v,{showSideNav:d,userInfo:null})]})}},5410:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return h}});var i=a(5893),s=a(9008),o=a.n(s),t=a(1163),l=a(7294),r=a(4053),c=a(9371),d=a.n(c),u=function(){let[e,n]=(0,l.useState)(""),[a,s]=(0,l.useState)(""),[o,t]=(0,l.useState)(""),r=e=>{e.preventDefault()};return(0,i.jsxs)("div",{className:d().container,children:[(0,i.jsx)("h1",{className:d().title,children:"Compose Email"}),(0,i.jsxs)("form",{onSubmit:r,className:d().form,children:[(0,i.jsxs)("div",{className:d().inputGroup,children:[(0,i.jsx)("label",{htmlFor:"recipient",className:d().label,children:"To:"}),(0,i.jsx)("input",{type:"email",id:"recipient",className:d().input,value:e,onChange:e=>n(e.target.value),required:!0})]}),(0,i.jsxs)("div",{className:d().inputGroup,children:[(0,i.jsx)("label",{htmlFor:"subject",className:d().label,children:"Subject:"}),(0,i.jsx)("input",{type:"text",id:"subject",className:d().input,value:a,onChange:e=>s(e.target.value),required:!0})]}),(0,i.jsxs)("div",{className:d().inputGroup,children:[(0,i.jsx)("label",{htmlFor:"message",className:d().label,children:"Message:"}),(0,i.jsx)("textarea",{id:"message",className:d().textarea,value:o,onChange:e=>t(e.target.value),required:!0})]}),(0,i.jsxs)("div",{className:d().buttonGroup,children:[(0,i.jsx)("button",{type:"submit",className:d().button,children:"Send Message"}),(0,i.jsx)("button",{type:"button",className:d().button,onClick:()=>{},children:"Cancel"})]})]})]})},_=a(7194),x=a(1234),m=function(){(0,t.useRouter)();let e=(0,r.useUser)(),n=(0,r.useSupabaseClient)();l.useRef(!1);let[a,s]=(0,l.useState)(null),[o,c]=(0,l.useState)(!1),[m,b]=(0,l.useState)(null),[g,h]=(0,l.useState)(null),p=()=>{c(!o)};async function v(){let{data:a,error:i}=await n.from("Messages").select("*").filter("recipient_id","eq",e.id).single();i&&console.log(i),console.log(a),b(a)}async function j(){let{data:a,error:i}=await n.from("Messages").select("*").filter("recipient_id","eq",e.id).single();i&&console.log(i),console.log(a),b(a)}return((0,l.useEffect)(()=>{null===m&&e&&(v(),j())},[e]),(0,l.useEffect)(()=>{async function a(){let{data:a,error:i}=await n.from("profiles").select("*").filter("id","eq",e.id).single();i&&console.log(i),s(a)}e&&a(),console.log(e)},[e]),e)?(0,i.jsxs)("div",{className:d().inboxContainer,children:[(0,i.jsx)(x.Z,{pageTitle:"Inbox"}),(0,i.jsx)("div",{className:d().titleContainer}),(0,i.jsx)("div",{className:d().mailTableContainer}),(0,i.jsx)("button",{onClick:p,children:"New Email"}),o&&(0,i.jsxs)("div",{className:d().emailFormContainer,children:[(0,i.jsx)("div",{className:d().emailFormHeader,children:(0,i.jsx)("span",{className:d().closeIcon,onClick:p,children:"\xd7"})}),(0,i.jsx)(u,{})]})]}):(0,i.jsx)(_.Z,{})},b=a(4523),g=a.n(b);function h(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o(),{children:[(0,i.jsx)("title",{children:"Inbox"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,i.jsx)("link",{rel:"icon",href:"favicon.png"})]}),(0,i.jsx)("main",{className:g().inboxMain,children:(0,i.jsx)(m,{})})]})}},4523:function(e){e.exports={homeMain:"Home_homeMain__O67oy",signUpMain:"Home_signUpMain__2bElS",dashboardMain:"Home_dashboardMain__bgwuO",inboxMain:"Home_inboxMain__sN3AB"}},9371:function(e){e.exports={emailFormContainer:"Inbox_emailFormContainer__ENyXP",emailFormHeader:"Inbox_emailFormHeader__Gh0Qj",closeIcon:"Inbox_closeIcon__or8ue",unorderdList:"Inbox_unorderdList__EBx8X",titleContainer:"Inbox_titleContainer__owYtk",container:"Inbox_container__GIGZc",title:"Inbox_title__D5RrM",form:"Inbox_form__2nmAn",inputGroup:"Inbox_inputGroup__1_K5F",label:"Inbox_label__QOMrG",input:"Inbox_input__I69JE",textarea:"Inbox_textarea__kOkn_",buttonGroup:"Inbox_buttonGroup___hhpN",button:"Inbox_button__19mF3",mailTableContainer:"Inbox_mailTableContainer__Nba_v"}},9970:function(e){e.exports={loginContainer:"Login_loginContainer__wbf9i",loginPanel:"Login_loginPanel__q72bH",title:"Login_title__oPtwD",inputGroup:"Login_inputGroup__JYrdu",border:"Login_border__zjo8u","new-account":"Login_new-account___Zu_s",forgotPassword:"Login_forgotPassword__8SZf_",loginRedirect:"Login_loginRedirect__V7XaS"}},2556:function(e){e.exports={navContainer:"Sidebar_navContainer___OhNi",navContainerHidden:"Sidebar_navContainerHidden__EqIUv",navBrand:"Sidebar_navBrand__Cd6NJ",navBrandImg:"Sidebar_navBrandImg__oeJb8",navUpper:"Sidebar_navUpper__cx_V3",navHeading:"Sidebar_navHeading__Wmgop",listContainer:"Sidebar_listContainer__IjHen",sideNavList:"Sidebar_sideNavList__X3EI8",topLink:"Sidebar_topLink__EWyL4",cogIcon:"Sidebar_cogIcon__eedYJ"}},7672:function(e){e.exports={containerLeft:"Topbar_containerLeft__gr0PH",logo:"Topbar_logo__PelHj",username:"Topbar_username__M70fm",signUpBtn:"Topbar_signUpBtn__9u7SI","bg-mainColor":"Topbar_bg-mainColor__Z3xur","bg-secondaryColor":"Topbar_bg-secondaryColor__glLMX",navContainer:"Topbar_navContainer__xZBIG",loginContainer:"Topbar_loginContainer__RaJji",loginButton:"Topbar_loginButton__qaxYi",navLink:"Topbar_navLink__WOsrx",middleNav:"Topbar_middleNav__Zz6kM",pageTitle:"Topbar_pageTitle___TwzW",Navbar:"Topbar_Navbar___Q4k8","login-button":"Topbar_login-button__8YCkZ"}}},function(e){e.O(0,[976,501,814,10,258,774,888,179],function(){return e(e.s=8626)}),_N_E=e.O()}]);